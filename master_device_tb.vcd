$date
	Sat Feb 24 21:28:09 2024
$end
$version
	Icarus Verilog
$end
$timescale
	100ps
$end
$scope module master_device_tb $end
$var wire 1 ! sda $end
$var wire 1 " scl $end
$var reg 7 # address_in [6:0] $end
$var reg 1 $ clk $end
$var reg 8 % data_in [7:0] $end
$var reg 1 & enable $end
$var reg 1 ' rst $end
$var reg 1 ( rw $end
$scope module DUT_master_device $end
$var wire 7 ) address_in [6:0] $end
$var wire 1 $ clk $end
$var wire 8 * data_in [7:0] $end
$var wire 1 & enable $end
$var wire 1 ' rst $end
$var wire 1 ( rw $end
$var wire 1 ! sda $end
$var wire 1 " scl $end
$var parameter 32 + IDLE $end
$var parameter 32 , READ_ACK1 $end
$var parameter 32 - READ_ACK2 $end
$var parameter 32 . READ_DATA $end
$var parameter 32 / SEND_ACK2 $end
$var parameter 32 0 SEND_ADDRESS $end
$var parameter 32 1 START $end
$var parameter 32 2 STOP $end
$var parameter 32 3 WRITE_DATA $end
$var reg 8 4 address_frame [7:0] $end
$var reg 8 5 counter [7:0] $end
$var reg 8 6 data_buffer [7:0] $end
$var reg 1 7 data_failure $end
$var reg 1 8 scl_enable $end
$var reg 1 9 scl_reg $end
$var reg 1 : sda_out $end
$var reg 1 ; sda_write_enable $end
$var reg 8 < state [7:0] $end
$var integer 32 = i [31:0] $end
$upscope $end
$scope module DUT_slave_device $end
$var wire 1 " scl $end
$var wire 1 ! sda $end
$var parameter 7 > LOCAL_ADDRESS $end
$var parameter 32 ? READ_ADDRESS $end
$var parameter 32 @ SEND_ACK1 $end
$var parameter 32 A SEND_DATA $end
$var reg 8 B address_frame [7:0] $end
$var reg 1 C address_hit $end
$var reg 8 D counter [7:0] $end
$var reg 1 E enable $end
$var reg 8 F local_data [7:0] $end
$var reg 1 G sda_out $end
$var reg 1 H sda_write_enable $end
$var reg 8 I state [7:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b10 A
b1 @
b0 ?
b1100110 >
b100 3
b1000 2
b1 1
b10 0
b111 /
b101 .
b110 -
b11 ,
b0 +
$end
#0
$dumpvars
bx I
0H
0G
b10111101 F
0E
bx D
0C
bx B
b0 =
b0 <
1;
1:
09
08
07
bz 6
bx 5
bx 4
b11100011 *
b1100110 )
1(
1'
0&
b11100011 %
0$
b1100110 #
1"
1!
$end
#10
19
1$
#20
0$
#30
09
1$
#40
0$
#50
19
1$
#60
0$
#70
09
1$
#80
0$
#90
19
1$
#100
0$
0'
#110
09
1$
#120
0$
#130
19
1$
#140
0$
#150
09
1$
#160
0$
#170
19
1$
#180
0$
#190
09
1$
#200
0$
1&
#210
b1 <
19
1$
#220
0$
#230
b0 I
b1000 D
1E
0!
0:
09
1$
#240
0$
#250
b10 <
b111 5
b11001101 4
19
1$
0&
#260
0$
#270
b111 D
0"
1!
1:
18
09
1$
#280
0$
#290
b1xxxxxxx B
b110 5
1"
19
1$
#300
0$
#310
b110 D
0"
09
1$
#320
0$
#330
b11xxxxxx B
b101 5
1"
19
1$
#340
0$
#350
0!
b101 D
0:
0"
09
1$
#360
0$
#370
b110xxxxx B
b100 5
1"
19
1$
#380
0$
#390
b100 D
0"
09
1$
#400
0$
#410
b1100xxxx B
b11 5
1"
19
1$
#420
0$
#430
1!
b11 D
1:
0"
09
1$
#440
0$
#450
b11001xxx B
b10 5
1"
19
1$
#460
0$
#470
b10 D
0"
09
1$
#480
0$
#490
b110011xx B
b1 5
1"
19
1$
#500
0$
#510
0!
b1 D
0:
0"
09
1$
#520
0$
#530
b1100110x B
b0 5
1"
19
1$
#540
0$
#550
1!
b0 D
1:
0"
09
1$
#560
0$
#570
b1 I
b11001101 B
b11 <
b11111111 5
1"
19
1$
#580
0$
#590
0!
1C
1H
0;
0"
09
1$
#600
0$
#610
b10 I
b111 D
b101 <
b1000 5
1"
19
1$
#620
0$
#630
1!
1G
b111 5
0"
09
1$
#640
0$
#650
b110 D
b1zzzzzzz 6
1"
19
1$
#660
0$
#670
0!
0G
b110 5
0"
09
1$
#680
0$
#690
b101 D
b10zzzzzz 6
1"
19
1$
#700
0$
#710
1!
1G
b101 5
0"
09
1$
#720
0$
#730
b100 D
b101zzzzz 6
1"
19
1$
#740
0$
#750
b100 5
0"
09
1$
#760
0$
#770
b11 D
b1011zzzz 6
1"
19
1$
#780
0$
#790
b11 5
0"
09
1$
#800
0$
#810
b10 D
b10111zzz 6
1"
19
1$
#820
0$
#830
b10 5
0"
09
1$
#840
0$
#850
b1 D
b101111zz 6
1"
19
1$
#860
0$
#870
0!
0G
b1 5
0"
09
1$
#880
0$
#890
b0 D
b1011110z 6
1"
19
1$
#900
0$
#910
1!
1G
b0 5
0"
09
1$
#920
0$
#930
b0 I
b11111111 D
b111 <
b10111101 6
1"
19
1$
#940
0$
#950
b11111110 D
b1000 <
0"
b1000 =
09
1$
#960
0$
#970
1"
19
1$
#980
0$
#990
b11111101 D
08
1"
09
1$
#1000
0$
#1010
19
1$
#1020
0$
#1030
09
1$
#1040
0$
#1050
19
1$
#1060
0$
#1070
09
1$
#1080
0$
#1090
19
1$
#1100
0$
#1110
09
1$
#1120
0$
#1130
19
1$
#1140
0$
#1150
09
1$
#1160
0$
#1170
19
1$
#1180
0$
#1190
09
1$
#1200
0$
#1210
19
1$
#1220
0$
#1230
09
1$
#1240
0$
#1250
19
1$
#1260
0$
#1270
09
1$
#1280
0$
#1290
19
1$
#1300
0$
#1310
09
1$
#1320
0$
#1330
19
1$
#1340
0$
#1350
09
1$
#1360
0$
#1370
19
1$
#1380
0$
#1390
09
1$
#1400
0$
#1410
19
1$
#1420
0$
#1430
09
1$
#1440
0$
#1450
19
1$
#1460
0$
#1470
09
1$
#1480
0$
#1490
19
1$
#1500
0$
#1510
09
1$
#1520
0$
#1530
19
1$
#1540
0$
#1550
09
1$
#1560
0$
#1570
19
1$
#1580
0$
#1590
09
1$
#1600
0$
#1610
19
1$
#1620
0$
#1630
09
1$
#1640
0$
#1650
19
1$
#1660
0$
#1670
09
1$
#1680
0$
#1690
19
1$
#1700
0$
#1710
09
1$
#1720
0$
#1730
19
1$
#1740
0$
#1750
09
1$
#1760
0$
#1770
19
1$
#1780
0$
#1790
09
1$
#1800
0$
#1810
19
1$
#1820
0$
#1830
09
1$
#1840
0$
#1850
19
1$
#1860
0$
#1870
09
1$
#1880
0$
#1890
19
1$
#1900
0$
#1910
09
1$
#1920
0$
#1930
19
1$
#1940
0$
#1950
09
1$
#1960
0$
#1970
19
1$
#1980
0$
#1990
09
1$
#2000
0$
#2010
19
1$
#2020
0$
#2030
09
1$
#2040
0$
#2050
19
1$
#2060
0$
#2070
09
1$
#2080
0$
#2090
19
1$
#2100
0$
#2110
09
1$
#2120
0$
#2130
19
1$
#2140
0$
#2150
09
1$
#2160
0$
#2170
19
1$
#2180
0$
#2190
09
1$
#2200
0$
#2210
19
1$
#2220
0$
#2230
09
1$
#2240
0$
#2250
19
1$
#2260
0$
#2270
09
1$
#2280
0$
#2290
19
1$
#2300
0$
#2310
09
1$
#2320
0$
#2330
19
1$
#2340
0$
#2350
09
1$
#2360
0$
#2370
19
1$
#2380
0$
#2390
09
1$
#2400
0$
#2410
19
1$
#2420
0$
#2430
09
1$
#2440
0$
#2450
19
1$
#2460
0$
#2470
09
1$
#2480
0$
#2490
19
1$
#2500
0$
#2510
09
1$
#2520
0$
#2530
19
1$
#2540
0$
#2550
09
1$
#2560
0$
#2570
19
1$
#2580
0$
#2590
09
1$
#2600
0$
#2610
19
1$
#2620
0$
#2630
09
1$
#2640
0$
#2650
19
1$
#2660
0$
#2670
09
1$
#2680
0$
#2690
19
1$
#2700
0$
#2710
09
1$
#2720
0$
#2730
19
1$
#2740
0$
#2750
09
1$
#2760
0$
#2770
19
1$
#2780
0$
#2790
09
1$
#2800
0$
#2810
19
1$
#2820
0$
#2830
09
1$
#2840
0$
#2850
19
1$
#2860
0$
#2870
09
1$
#2880
0$
#2890
19
1$
#2900
0$
#2910
09
1$
#2920
0$
#2930
19
1$
#2940
0$
#2950
09
1$
#2960
0$
#2970
19
1$
#2980
0$
#2990
09
1$
#3000
0$
#3010
19
1$
#3020
0$
#3030
09
1$
#3040
0$
#3050
19
1$
#3060
0$
#3070
09
1$
#3080
0$
#3090
19
1$
#3100
0$
#3110
09
1$
#3120
0$
#3130
19
1$
#3140
0$
#3150
09
1$
#3160
0$
#3170
19
1$
#3180
0$
#3190
09
1$
#3200
0$
#3210
19
1$
#3220
0$
#3230
09
1$
#3240
0$
#3250
19
1$
#3260
0$
#3270
09
1$
#3280
0$
#3290
19
1$
#3300
0$
#3310
09
1$
#3320
0$
#3330
19
1$
#3340
0$
#3350
09
1$
#3360
0$
#3370
19
1$
#3380
0$
#3390
09
1$
#3400
0$
#3410
19
1$
#3420
0$
#3430
09
1$
#3440
0$
#3450
19
1$
#3460
0$
#3470
09
1$
#3480
0$
#3490
19
1$
#3500
0$
#3510
09
1$
#3520
0$
#3530
19
1$
#3540
0$
#3550
09
1$
#3560
0$
#3570
19
1$
#3580
0$
#3590
09
1$
#3600
0$
#3610
19
1$
#3620
0$
#3630
09
1$
#3640
0$
#3650
19
1$
#3660
0$
#3670
09
1$
#3680
0$
#3690
19
1$
#3700
0$
#3710
09
1$
#3720
0$
#3730
19
1$
#3740
0$
#3750
09
1$
#3760
0$
#3770
19
1$
#3780
0$
#3790
09
1$
#3800
0$
#3810
19
1$
#3820
0$
#3830
09
1$
#3840
0$
#3850
19
1$
#3860
0$
#3870
09
1$
#3880
0$
#3890
19
1$
#3900
0$
#3910
09
1$
#3920
0$
#3930
19
1$
#3940
0$
#3950
09
1$
#3960
0$
#3970
19
1$
#3980
0$
#3990
09
1$
#4000
0$
#4010
19
1$
#4020
0$
#4030
09
1$
#4040
0$
#4050
19
1$
#4060
0$
#4070
09
1$
#4080
0$
#4090
19
1$
#4100
0$
#4110
09
1$
#4120
0$
#4130
19
1$
#4140
0$
#4150
09
1$
#4160
0$
#4170
19
1$
#4180
0$
#4190
09
1$
#4200
0$
#4210
19
1$
#4220
0$
#4230
09
1$
#4240
0$
#4250
19
1$
#4260
0$
#4270
09
1$
#4280
0$
#4290
19
1$
#4300
0$
#4310
09
1$
#4320
0$
#4330
19
1$
#4340
0$
#4350
09
1$
#4360
0$
#4370
19
1$
#4380
0$
#4390
09
1$
#4400
0$
#4410
19
1$
#4420
0$
#4430
09
1$
#4440
0$
#4450
19
1$
#4460
0$
#4470
09
1$
#4480
0$
#4490
19
1$
#4500
0$
#4510
09
1$
#4520
0$
#4530
19
1$
#4540
0$
#4550
09
1$
#4560
0$
#4570
19
1$
#4580
0$
#4590
09
1$
#4600
0$
#4610
19
1$
#4620
0$
#4630
09
1$
#4640
0$
#4650
19
1$
#4660
0$
#4670
09
1$
#4680
0$
#4690
19
1$
#4700
0$
#4710
09
1$
#4720
0$
#4730
19
1$
#4740
0$
#4750
09
1$
#4760
0$
#4770
19
1$
#4780
0$
#4790
09
1$
#4800
0$
#4810
19
1$
#4820
0$
#4830
09
1$
#4840
0$
#4850
19
1$
#4860
0$
#4870
09
1$
#4880
0$
#4890
19
1$
#4900
0$
#4910
09
1$
#4920
0$
#4930
19
1$
#4940
0$
#4950
09
1$
#4960
0$
#4970
19
1$
#4980
0$
#4990
09
1$
#5000
0$
#5010
19
1$
#5020
0$
#5030
09
1$
#5040
0$
#5050
19
1$
#5060
0$
#5070
09
1$
#5080
0$
#5090
19
1$
#5100
0$
#5110
09
1$
#5120
0$
#5130
19
1$
#5140
0$
#5150
09
1$
#5160
0$
#5170
19
1$
#5180
0$
#5190
09
1$
#5200
0$
#5210
19
1$
#5220
0$
#5230
09
1$
#5240
0$
#5250
19
1$
